{
  "help" : "Engraver help",
  "shared-parsers" : {
    "cluster-name" : {
      "args" : {
        "long" : "--cluster-name",
        "required" : true,
        "help" : "The name of the cluster"
      }
    },
    "tenancy-id" : {
      "args" : {
        "long" : "--tenancy-id",
        "required" : true,
        "help" : "The :onyx/tenancy-id to deploy this application into"
      }
    }
  },
  "commands" : {
    "init" : {
      "help" : "Create a new Engraver project",
      "args" : {
        "app-name" : {
          "long" : "app-name",
          "help" : "The name your Engraver application"
        }
      }
    },
    "configure" : {
      "help" : "Configure cloud provider credentials",
      "commands": {
        "aws" : {
          "help" : "Configure credentials for AWS"
        }
      }
    },
    "service" : {
      "help" : "Manage services that the cluster machines can install and run",
      "commands": {
        "new" : {
          "help" : "Creates a new service and Ansible template role"
        },
        "remove" : {
          "help" : "Removes a service"
        },
        "pull" : {
          "help" : "Pulls a service from a Git repository"
        }
      }
    },
    "cluster" : {
      "help" : "Manage Onyx cluster infrastructure",
      "commands" : {
        "new" : {
          "help" : "Creates configuration management scripts for a new Onyx cluster",
          "shared-parsers" : [ "cluster-name" ]
        },
        "describe" : {
          "help" : "Describes all clusters"
        },
        "provision" : {
          "help" : "Provisions this Onyx cluster in the target environment",
          "shared-parsers" : [ "cluster-name" ]
        },
        "machines" : {
          "help" : "Creates a new set of machines in configuration management",
          "commands" : {
            "new" : {
              "help" : "Creates a new set of machines in configuration management",
              "shared-parsers" : [ "cluster-name" ],
              "args" : {
                "n" : {
                  "long" : "n",
                  "help" : "The number of machines to provision"
                },
                "services" : {
                  "long" : "--services",
                  "help" : "The services this set of machines will host"
                },
                "profile-id" : {
                  "long" : "--profile-id",
                  "required" : true,
                  "help" : "The ID of this machine profile"
                }
              }
            },
            "describe" : {
              "help" : "Describes all machine sets",
              "shared-parsers" : [ "cluster-name" ]
            },
            "list" : {
              "help" : "Lists all running machines in this cluster",
              "shared-parsers" : [ "cluster-name" ]
            },
            "scale" : {
              "help" : "Scales this machine set up or down to a number of instances",
              "shared-parsers" : [ "cluster-name" ],
              "args" : {
                "id" : {
                  "long" : "--profile-id",
                  "required" : true,
                  "help" : "The profile ID of this machine set"
                },
                "n" : {
                  "long" : "n",
                  "help" : "The desired number of machines"
                }
              }
            },
            "remove" : {
              "help" : "Removes this machine set",
              "args" : {
                "id" : {
                  "long" : "--profile-id",
                  "required" : true,
                  "help" : "The profile ID of this machine set"
                }
              }
            }
          }
        },
        "teardown" : {
          "help" : "Destroys the provisioned infrastructure for this cluster",
          "shared-parsers" : [ "cluster-name" ]
        },
        "remove" : {
          "help" : "Removes the cluster from this Engraver project",
          "shared-parsers" : [ "cluster-name" ]
        }
      }
    },
    "deploy" : {
      "help" : "Deploy Onyx peer applications to a cluster",
      "shared-parsers" : [ "cluster-name", "tenancy-id" ]
    },
    "job" : {
      "help" : "Submit Onyx jobs to a cluster",
      "commands" : {
        "submit" : {
          "help" : "Submits Onyx jobs to a cluster",
          "shared-parsers" : [ "cluster-name", "tenancy-id" ]
        },
        "kill" : {
          "help" : "Kills this job on the cluster",
          "shared-parsers" : [ "cluster-name", "tenancy-id" ]
        }
      }
    }
  }
}
